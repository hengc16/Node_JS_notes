# MongoDB

### 关系型数据库和非关系型数据库

* 表就是关系，或者是table与table之间的关系
  * 所以的关系型数据库都需要通过sql语言来操作
  * 所以的关系型数据库在操作之前都要设计表结构
  * 而且数据表还支持约束
    * 唯一的
    * 主键
    * 默认值
    * 非空
* 非关系型数据库非常灵活
* 有的非关系数据库就是key-value pair
* 但是mongo db 是长的最像关系型数据库的非关系型数据库
  * 数据库-》数据库
  * 数据表-》集合
  * 表记录-》文档对象
* mongobd 不需要设计结构
* 也就是说你可以任意的往里面存数据，没有结构一说。

### MongoDB数据库的基本概念

* 数据库
* 集合
* 文档
* mongdb非常灵活，不需要像mysql一样先创建库，表，设计表结构
  * 这mongdb里，当你需要插入数据时，只需要往指定数据库的那个集合插入就可以
  * 一切都由mongodb来帮你自动完成建库建表这些事。

```text
{
    amazon:{
        users:[
            {name:'jack', age: 15},
            {name: 'tom', age: 16},
            {}
        ],
        products: [
            {},
            {}
        ]
    },
    google:{
        users:[
            {},
        ]
        
    }
}
```

* 这里amazon 和google代表着2个不同的数据库
* 数据库里面有不同的集合（table）例如这里的用户集合（表, 数组）， 里面存放着相应的数据对象, 叫做文档\(对象\).

### 安装

* 官网下载。拿到安装后的路径
* 下载mongodb后 要去this pc的属性里 添加一下环境变量里的path。

### 启动服务

* mongodb 默认使用执行mongod命令所属磁盘目录下的/data/db作为数据存储对象
* 所以第一次执行该命令时要手动新建一个/data/db在c盘目录下
  * 或者修改默认数据存储目录：如
  * mongod --dbpath = 数据存储目录path
* 停止
  * ctrl + c

### 连接db

* 连接
  * 直接输入mongo命令来连接本地数据库
* 退出：
  * 在连接状态，输入exit

### 基本命令：

* show dbs
  * 查看所有列表
* db
  * 查看当前连接的数据库
* use 数据库名称
  * 切换到制定数据库，如果没有会新建
* 插入数据
  * db.集合.insertOne\({obj信息}\)
* 查看集合
  * show collections 
* db.students.find\(\)
  * 查看当前db的students集合里的数据

### 



